<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Ansible InGRAINd provides Ansible roles in the repository that you can lift and integrate into your deployment systems.
The role installs OSQuery by default on compatible systems, which means you can use the InGRAINd - OSQuery bridge to gather a wide range of system statistics using a single configuration file .
Configuration To keep configuration as simple as possible, the role relies on the following variables :
ingraind_circleci_url ingraind_circleci_sha256 ingraind_http_api_key ingraind_http_uri  By default the agent will send events to an HTTP backend periodically."><meta property="og:title" content="" />
<meta property="og:description" content="Ansible InGRAINd provides Ansible roles in the repository that you can lift and integrate into your deployment systems.
The role installs OSQuery by default on compatible systems, which means you can use the InGRAINd - OSQuery bridge to gather a wide range of system statistics using a single configuration file .
Configuration To keep configuration as simple as possible, the role relies on the following variables :
ingraind_circleci_url ingraind_circleci_sha256 ingraind_http_api_key ingraind_http_uri  By default the agent will send events to an HTTP backend periodically." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://foniod.org/docs/deployment/ansible/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2020-02-21T16:59:47+00:00" />

<title>Ansible | Foniod</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">


<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WRMND9W');</script>
  


<link rel="stylesheet" href="/scss/main.min.61d889c346f67ea57ff397ef6521229e2eccf8d9f9a4d173cf76468b5cff7229.css" integrity="sha256-YdiJw0b2fqV/85fvZSEini7M&#43;Nn5pNFzz3ZGi1z/cik=">
<script defer src="/en.cookie-bar.min.fe0931a5d689896d547d5e3c771d78f03a011aac1f7ccee5e86db136671dc837.js" integrity="sha256-/gkxpdaJiW1UfV48dx148DoBGqwffM7l6G2xNmcdyDc="></script>


<script defer src="/en.menu-toggle.min.b899591d5f0aadc386251f4410c51d9273c350e502610406e19979b3e7699438.js" integrity="sha256-uJlZHV8KrcOGJR9EEMUdknPDUOUCYQQG4Zl5s&#43;dplDg="></script>



<script defer src="/en.search.min.a82cf53884aadb65ce5f5d155ac6f7254c0959d1aea31c145157a1d09ed83288.js" integrity="sha256-qCz1OISq22XOX10VWsb3JUwJWdGuoxwUUVeh0J7YMog="></script>



<script async defer src="https://buttons.github.io/buttons.js"></script>



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<link href="https://fonts.googleapis.com/css?family=Raleway:400,500,600,700,900%7cSource+Code+Pro:400,500&display=swap" rel="stylesheet">
<!--
Theme based on Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>
















<body class="fixed-position">
	
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WRMND9W"
		height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		
	<div id="wrapper">
		 
<div class="header-container">
   <div id="cookie-bar" class="cookie-bar hide">
  <div class="container">
    <h3 id="cookie-heading">This site uses cookies</h3>
    <div class="cookie-content">
      <p>
        <span class="short">We’re using cookies to give you the best experience across our websites and products.
        For more information, </span>
        
        visit our <a href="https://redsift.com/cookies" target="_blank" rel="noopener noreferrer">Cookies policy</a></p>
      <button id="cookie-button" type="button" class="btn">Accept and continue</button>
    </div>
  </div>
</div> 
  <a class="accessibility" href="#main">Skip to Content</a>
  <header id="header">
    <div class="container">
      
      <strong class="logo">
        <a href="/"><img src="/svg/logo.svg" alt="ingraind" width="135"/></a>
      </strong>
      
      <a class="nav-opener" href="#">nav-opener<span></span></a>
      <div class="drop">
        
        <nav class="nav main-menu">
          
          





          
            <ul>
<li>
  <a href="/">Intro</a>
</li>
<li>
  <a href="/docs/getting-started/">Documentation</a>
</li>
<li>
  <a href="/api/redbpf/">API</a>
</li>
<li>
  <a href="https://blog.redsift.com/category/labs/">Blog</a>
</li>
</ul>


          

          




          
        </nav>
        
  <ul class="social-networks">
  <li><a href="https://github.com/redsift/ingraind"><i class="icon-github"></i>github</a></li>
  <li><a href="https://twitter.com/redsift"><i class="icon-twitter"></i>twitter</a></li>
</ul>

      </div>
    </div>
  </header>
</div>
 
<input type="checkbox" class="hidden" id="toc-control" />
<aside class="hidden clearfix">
  
  <nav id="TableOfContents">
  <ul>
    <li><a href="#configuration">Configuration</a></li>
    <li><a href="#systemd">SystemD</a></li>
    <li><a href="#keeping-up-to-date">Keeping up-to-date</a></li>
  </ul>
</nav>


</aside>
 

		
		<main id="main">
			<div class="container inner-container">
				
				<aside class="sidebar">
				  <div id="left-sidebar" class="fixed-block">
				    
  <nav class="nav-holder hide">
<strong class="logo hide">
  <a href="/"><img src="/svg/logo.svg" alt="ingraind" width="135"/></a>
  <span>v1.0</span>
</strong>


<form action="#" class="form-search">
	<div class="search-bar">
		<label for="search-input">Search</label>
		<input id="search-input"
			type="search"
			aria-label="Search"
			maxlength="64" 
			data-hotkeys="s/">
	</div>
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="search-results" class="nav-list"></ul>
</form>











  <ul>
<li>
<p>
  <a href="/docs/getting-started/">Getting started</a>
</p>
</li>
<li>
<p>
  <a href="/docs/configuration/syntax/">Configuration</a>
</p>
<ul>
<li>
  <a href="/docs/configuration/containers/">Container monitoring</a>
</li>
<li>
  <a href="/docs/configuration/network/">Network monitoring</a>
</li>
<li>
  <a href="/docs/configuration/auto-kill/">Auto-kill programs</a>
</li>
<li>
  <a href="/docs/configuration/backends/">Backends</a>
</li>
<li>
  <a href="/docs/configuration/statsd/">StatsD server</a>
</li>
<li>
  <a href="/docs/configuration/osquery/">OsQuery</a>
</li>
</ul>
</li>
<li>
<p>
  <a href="/docs/deployment/strategies/">Deployment</a>
</p>
<ul>
<li>
  <a href="/docs/deployment/kubernetes/">Kubernetes</a>
</li>
<li>
  <a href="/docs/deployment/ansible/"class=active>Ansible/SystemD</a>
</li>
</ul>
</li>
<li>
<p>Extending InGRAINd</p>
<ul>
<li>
  <a href="/docs/devel/profiling/">Profiling</a>
</li>
<li>
  <a href="/docs/devel/performance/">Performance</a>
</li>
<li>
  <a href="/docs/devel/internals/">Internals</a>
</li>
</ul>
</li>
</ul>










</nav>




  <script>(function(){var a=document.querySelector("aside.sidebar nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
				  </div>
				</aside>
				
				<div class="content">
				  
  <article class="markdown"><h1 id="ansible">Ansible</h1>
<p>InGRAINd provides 
  <a href="https://ansible.com">Ansible</a>
 roles 
  <a href="https://github.com/redsift/ingraind/tree/master/ansible/roles/ingraind">in the
repository</a>

that you can lift and integrate into your deployment systems.</p>
<p>The role installs OSQuery by default on compatible systems, which
means you can use the InGRAINd - OSQuery bridge to gather a wide range
of system statistics using a single 
  <a href="https://github.com/redsift/ingraind/blob/master/ansible/roles/ingraind/templates/etc/ingraind/ingraind.toml.j2">configuration
file</a>
.</p>
<h2 id="configuration">Configuration</h2>
<p>To keep configuration as simple as possible, the role relies on the
following

  <a href="https://github.com/redsift/ingraind/blob/master/ansible/roles/ingraind/vars/main.yml">variables</a>
:</p>
<pre><code>ingraind_circleci_url
ingraind_circleci_sha256
ingraind_http_api_key
ingraind_http_uri
</code></pre>
<p>By default the agent will send events to an HTTP backend periodically.</p>
<h2 id="systemd">SystemD</h2>
<p>The Ansible role, by default, deploys a 
  <a href="%60https://github.com/redsift/ingraind/blob/master/deploy/ansible/roles/ingraind/templates/etc/systemd/system/ingraind.service.j2%60">SystemD service
file</a>

and configures it to use the configuration location for

  <a href="https://github.com/redsift/ingraind/blob/master/deploy/ansible/roles/ingraind/templates/etc/ingraind/ingraind.toml.j2"><code>/etc/ingraind/ingraind.toml</code></a>
.</p>
<h2 id="keeping-up-to-date">Keeping up-to-date</h2>
<p>To keep InGRAINd up-to-date, we will reference the URL and hash of the
latest stable release in the repository&rsquo;s 
  <a href="https://github.com/redsift/ingraind/blob/master/ansible/roles/ingraind/vars/main.yml">variables
file</a>
,
so you can synchronise the role and override the default variables in
your deployment.</p>
</article>
 
				</div>
				
				
				<aside class="aside hide">
					<div id="right-sidebar" class="fixed-block">
					  <h3>Contents</h3>
					  
  <nav id="TableOfContents">
  <ul>
    <li><a href="#configuration">Configuration</a></li>
    <li><a href="#systemd">SystemD</a></li>
    <li><a href="#keeping-up-to-date">Keeping up-to-date</a></li>
  </ul>
</nav>

 
					</div>
				</aside>
				
			</div>
		</main>
		 <footer id="footer">
  <div class="container">
    
    <div class="copy">&copy; 2021 <a href="#">ingraind & RedBPF Contributors</a>. Documentation distributed under <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a></div>
    <div class="copy">The Linux Foundation® (TLF) has registered trademarks and uses trademarks. For a list of TLF trademarks, see <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a></div>
    <div class="social-block">
    
  <ul class="social-networks">
  <li><a href="https://github.com/redsift/ingraind"><i class="icon-github"></i>github</a></li>
  <li><a href="https://twitter.com/redsift"><i class="icon-twitter"></i>twitter</a></li>
</ul>

    </div>
  </div>
</footer>
<a class="accessibility" href="#wrapper">Back to top</a>
 
	</div>
</body>
 

</html>

